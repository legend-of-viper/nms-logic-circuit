/* ページ全体の基本設定 */
body {
  margin: 0;
  color: #eee;
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

/* ヘッダー領域（ボタン置き場）の設定 */
#header {
  background-color: #333;
  padding: 10px;
  border-bottom: 2px solid #555;
  display: flex;
  gap: 10px;
  align-items: center; /* 上下中央揃えを追加 */
  flex-wrap: wrap; /* 画面が狭い時に折り返す */
}

/* ボタン共通の設定 */
button {
  padding: 0;
  cursor: pointer;
  
  /* サイズ設定 */
  height: 60px;
  min-width: 60px;
  width: 60px;

  /* 配置 */
  display: flex;
  justify-content: center;
  align-items: center;

  /* 背景画像の調整 */
  background-position: center;
  background-repeat: no-repeat;
  background-size: 85%; /* 枠に収まる良いバランスに調整 */

  /* ★デザインの大幅変更 */
  /* 1. SFチックな暗めのベースカラー */
  background-color: #222;
  
  /* 2. 金属っぽい枠線 */
  border: 2px solid #444;
  border-radius: 12px; /* 少し丸みを強める */

  /* 3. 立体感の演出（重要） */
  /* insetをつけると内側に影が落ち、ボタンが凹んで見えます */
  box-shadow: 
    inset 0 0 15px rgba(0, 0, 0, 0.8), /* 内側の濃い影 */
    0 2px 4px rgba(0, 0, 0, 0.5);      /* 外側の影（ドロップシャドウ） */

  /* 4. アニメーション */
  transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* ホバー（マウスを乗せた）時の演出 */
button:hover {
  /* 少し明るく発光するイメージ */
  background-color: #333;
  border-color: #666;
  
  /* 浮き上がるように見せる */
  transform: translateY(-2px);
  
  /* 影を調整して光が当たっている感を出す */
  box-shadow: 
    inset 0 0 5px rgba(0, 0, 0, 0.5), /* 内側の影を薄く */
    0 5px 10px rgba(0, 0, 0, 0.6),    /* 外側の影を濃く */
    0 0 8px rgba(100, 200, 255, 0.2); /* ほんのり青く光らせる */
}

/* アクティブ（クリックした）時の演出 */
button:active {
  /* 押し込んだ物理的な挙動 */
  transform: translateY(1px);
  
  /* 強く凹ませる */
  background-color: #1a1a1a;
  box-shadow: 
    inset 0 0 20px rgba(0, 0, 0, 0.9),
    0 1px 2px rgba(0, 0, 0, 0.5);
}

/* 個別ボタンの設定（文字を透明にする処理は維持） */
#btn-power, #btn-auto-switch, #btn-inverter, 
#btn-button, #btn-wall-switch, #btn-color-light {
  color: transparent;
}

/* 保存・読込ボタンなどはアイコンがないので、文字が見えるように別途調整が必要なら以下を追加 */
.file-btn {
  /* パーツボタンとは違い、横長のまま文字を見せたい場合 */
  width: auto;
  min-width: auto;
  padding: 0 15px;
  color: white !important; /* 文字色を強制的に戻す */
  background-image: none !important; /* 背景画像を消す */
  
  /* 色味も区別する（緑系） */
  background-color: #2e5e30;
  border-color: #4a8a4d;
}

.file-btn:hover {
  background-color: #3a7a3d;
  border-color: #6aca6d;
}

/* 削除モードボタン（ベース） */
.delete-mode-btn {
  /* パーツボタンと同じサイズ・基本設定を継承しつつ上書き */
  height: 60px;
  min-width: 60px;
  width: 60px;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-position: center;
  background-repeat: no-repeat;
  background-size: 70%; /* ゴミ箱アイコンのサイズ感 */
  border-radius: 12px;
  transition: all 0.2s ease;
  
  /* ★区別ポイント: 赤を基調とした警戒色 */
  background-color: #500; /* 通常時は暗い赤 */
  border: 2px solid #a00; /* 赤い枠線 */
  
  /* 内側に影を落として「埋め込まれたスイッチ」感を出す */
  box-shadow: 
    inset 0 0 10px rgba(0, 0, 0, 0.8),
    0 2px 4px rgba(0, 0, 0, 0.5);
}

/* ホバー時（削除しようとしている警告感） */
.delete-mode-btn:hover {
  background-color: #700;
  border-color: #c00;
  box-shadow: 
    inset 0 0 5px rgba(0, 0, 0, 0.5),
    0 0 10px rgba(255, 50, 50, 0.3);
}

/* 削除モードON（アクティブ）時のスタイル */
.delete-mode-btn.active {
  /* 激しく発光させて「危険モード」であることを伝える */
  background-color: #d00;
  border-color: #ff5555;
  
  /* 強い発光表現 */
  box-shadow: 
    inset 0 0 15px rgba(100, 0, 0, 0.5), /* 内側は少し暗く */
    0 0 20px rgba(255, 0, 0, 0.8);     /* 外側へ強く光る */
    
  /* 押された状態の変形 */
  transform: scale(0.95);
}

.delete-mode-btn.active:hover {
  background-color: #f00;
  box-shadow: 0 0 30px rgba(255, 0, 0, 1);
}

/* スペーサー */
.spacer {
  flex-grow: 1;
}

/* 90度スナップトグル */
.rotation-snap-toggle {
  display: flex;
  align-items: center;
  gap: 5px;
  color: #eee;
  cursor: pointer;
  user-select: none;
}

.rotation-snap-toggle input[type="checkbox"] {
  cursor: pointer;
}

.rotation-snap-toggle span {
  font-size: 14px;
}

/* キャンバス領域の設定 */
#canvas-container {
  flex-grow: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 設定パネル（設定項目をまとめるエリア） */
.settings-panel {
  display: flex;
  align-items: center;
  background-color: #222;
  border: 1px solid #444;
  border-radius: 8px;
  padding: 5px 12px;
  gap: 12px;
  height: 48px; /* ボタンと高さを合わせるなどお好みで */
  margin-right: 10px;
}

.settings-icon {
  font-size: 20px;
  cursor: default;
  opacity: 0.7;
}

/* トグルスイッチのコンテナ */
.toggle-switch {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  user-select: none;
}

/* 実際のチェックボックスは隠す */
.toggle-switch input {
  display: none;
}

/* スイッチの土台（スライダー部分） */
.slider {
  position: relative;
  width: 40px;
  height: 20px;
  background-color: #555;
  border-radius: 20px;
  transition: .3s;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.5);
}

/* スイッチのつまみ（丸い部分） */
.slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  border-radius: 50%;
  transition: .3s;
  box-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

/* ON（チェック状態）の時のスタイル */
.toggle-switch input:checked + .slider {
  background-color: #4CAF50; /* 緑色 */
}

.toggle-switch input:checked + .slider:before {
  transform: translateX(20px); /* 右に移動 */
}

/* ラベルテキスト */
.toggle-switch .label-text {
  font-size: 14px;
  color: #eee;
  font-family: sans-serif;
  font-weight: bold;
}

/* ホバー時の反応 */
.toggle-switch:hover .slider {
  background-color: #666;
}
.toggle-switch:hover input:checked + .slider {
  background-color: #5cb85c;
}